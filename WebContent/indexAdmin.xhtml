<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"  xmlns:f="http://xmlns.jcp.org/jsf/core" 	xmlns:p="http://primefaces.prime.com.tr/ui">
<h:head>
	
<meta charset="utf-8" />
	
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	
<title>Admin Page</title>
	<link rel="stylesheet" type="text/css" href="resources/styleAdmin.css" />
</h:head> 
<h:body>
	<header>
		<a href="#" class="logo">Bloo<span>d</span>onation<span>.</span></a> 
		
<div class="menuToggle" onclick="toggleMenu();" />
		
<ul class="navigation">
			
<li><a href="#banner" onclick="toggleMenu();">Home</a></li>
			
<li><a href="#stock" onclick="toggleMenu();">Stock</a></li>
			
<li><a href="#donors" onclick="toggleMenu();">Donors</a></li>
			
<li><a href="#request" onclick="toggleMenu();">Requests</a></li>
						
<li><a href="#users" onclick="toggleMenu();">Blood Transfusions</a></li>
		</ul>
	</header>
	<section class="banner" id="banner">
		
<div class="content">
			
<h2>you are somebady's type</h2>
			
<p>Blood donation helps to save people’s lives all over the world. It is a real wonder that one may save a life of others by giving his blood and it is the most precious gift ever. </p>
		</div>
	</section>
	<section class="stock" id="stock">
		
<div class="title">
			
<h2 class="titleText"><span>S</span>tock</h2>
			
<p>Stock Service gives you a global idea about Available Blood per Group in Liters in your center.</p>
		</div>
<div class="container">
			
<div class="group_blood">
				<img width="180" height="210" src="resources/#{Stock.load()[0].bloodGroup}.png" alt="" />
				<span><h:outputLabel value="#{Stock.load()[0].quantite}"></h:outputLabel></span>
				<div class="detail"><h:outputLabel value="#{Stock.load()[0].bloodGroup}"></h:outputLabel>Stock</div>
			</div>
			
<div class="group_blood">
				<img width="180" height="210" src="resources/#{Stock.load()[1].bloodGroup}.png" alt="" />
				<span><h:outputLabel value="#{Stock.load()[1].quantite}"></h:outputLabel></span>
				<div class="detail"><h:outputLabel value="#{Stock.load()[1].bloodGroup}"></h:outputLabel>Stock</div>
			</div>
			
<div class="group_blood">
				<img width="180" height="210" src="resources/#{Stock.load()[2].bloodGroup}.png" alt="" />
				<span><h:outputLabel value="#{Stock.load()[2].quantite}"></h:outputLabel></span>
				<div class="detail"><h:outputLabel value="#{Stock.load()[2].bloodGroup}"></h:outputLabel>Stock</div>
			</div>
			
<div class="group_blood">
				<img width="180" height="210" src="resources/#{Stock.load()[3].bloodGroup}.png" alt="" />
				<span><h:outputLabel value="#{Stock.load()[3].quantite}"></h:outputLabel></span>
				<div class="detail"><h:outputLabel value="#{Stock.load()[3].bloodGroup}"></h:outputLabel>Stock</div>
			</div>
			
<div class="group_blood">
				<img width="180" height="210" src="resources/#{Stock.load()[4].bloodGroup}.png" alt="" />
				<span><h:outputLabel value="#{Stock.load()[4].quantite}"></h:outputLabel></span>
				<div class="detail"><h:outputLabel value="#{Stock.load()[4].bloodGroup}"></h:outputLabel>Stock</div>
			</div>
			
<div class="group_blood">
				<img width="180" height="210" src="resources/#{Stock.load()[5].bloodGroup}.png" alt="" />
				<span><h:outputLabel value="#{Stock.load()[5].quantite}"></h:outputLabel></span>
				<div class="detail"><h:outputLabel value="#{Stock.load()[5].bloodGroup}"></h:outputLabel>Stock</div>
			</div>
			
<div class="group_blood">
				<img width="180" height="210" src="resources/#{Stock.load()[6].bloodGroup}.png" alt="" />
				<span><h:outputLabel value="#{Stock.load()[6].quantite}"></h:outputLabel></span>
				<div class="detail"><h:outputLabel value="#{Stock.load()[6].bloodGroup}"></h:outputLabel>Stock</div>
			</div>
			
<div class="group_blood">
				<img width="180" height="210" src="resources/#{Stock.load()[7].bloodGroup}.png" alt="" />
				<span><h:outputLabel value="#{Stock.load()[7].quantite}"></h:outputLabel></span>
				<div class="detail"><h:outputLabel value="#{Stock.load()[7].bloodGroup}"></h:outputLabel>Stock</div>
			</div>
			
        </div>
	</section>
	<section class="donors" id="donors">
		
<div class="title">
			
<h2 class="titleText">List of <span>D</span>onors</h2>
			
<p>Manage donors' list on Bloo<span>d</span>onation.</p>
		</div>
		
<table>
        
<tbody>
<tr>
            
<td>
                <h:form id="donorBeanForm" autocomplete="off">
                	
<div class="title">
						
<h2 class="titleText">Add a New Donor</h2>
					</div>
                    
                    
<div>
					
                        <h:outputLabel>Donor<span>*</span></h:outputLabel>
                        <h:inputText type="text" name="donor" id="donor" required="" pattern="[A-Za-z/\s]+" value="#{Donor.fullName}" />
                    </div>
                    
<div>
                        <h:outputLabel>Blood Group</h:outputLabel>
                        <!-- <input type="text" name="bloodGroup" id="bloodGroup"> -->
                        
                        <h:selectOneMenu value="#{Donor.bloodGroup}"> 
            <f:selectItem itemValue = "Select Your Blood Group" itemLabel = "Select Your Blood Group" /> 
            <f:selectItem itemValue = "A+" itemLabel = "A+" /> 
            <f:selectItem itemValue = "A-" itemLabel = "A-" />  
            <f:selectItem itemValue = "B+" itemLabel = "B+" />  
            <f:selectItem itemValue = "AB+" itemLabel = "AB+" />
            <f:selectItem itemValue = "AB-" itemLabel = "AB-" />   
            <f:selectItem itemValue = "O+" itemLabel = "O+" />
            <f:selectItem itemValue = "O-" itemLabel = "O-" />  
         </h:selectOneMenu> 
                        
						
                    </div>
                    
<div>
                        <h:outputLabel>City</h:outputLabel>
                        <h:inputText type="text" name="city" id="city" value="#{Donor.city}"/>
                    </div>
                    
<div>
                        <h:outputLabel>Email<span>*</span></h:outputLabel>
                        <h:inputText type="text" name="email" id="email" value="#{Donor.email}" />
                    </div>
                    
<div>
                        <h:outputLabel>Phone Number</h:outputLabel>
                        <h:inputText type="text" name="phone" value="#{Donor.phoneNumber}"  id="phone" placeholder="0**********  (Without spaces)" class="form-control" required="" pattern="^\d{10}$" title="10 numeric characters only" maxlength="10" />
                    </div>
                    
                    
<div class="submit-btn">

					<h:commandButton id="btn" value="Add Donor" action="#{Donor.addNewDonor(Donor)}" style="cursor: pointer;
	position: relative;
	/*transform: translate(-20%,-5%);*/
	width: 200px;
	padding: 5px 10px;
    margin: 8px 0;
	font-size: 1em;
	color: #000;
	background: linear-gradient(to right, #ff0157, #fff);
	display: block;
	text-transform: capitalize;
	text-decoration: none;
	text-align: center;
	letter-spacing: 2px;
	border-radius: 70px;
	border: none;"></h:commandButton>
					</div>
                </h:form>
            </td>
           
           
           <h:form id="donorForm">
        <h:dataTable class="list" id="infoList" binding="#{table}" value="#{Donor.DonorListFromDb()}" var="donor" styleClass="table table-striped table-bordered tableUpdated">
            <h:column>
                <f:facet name="header">Donor Id</f:facet>
                <h:outputText value="#{donor.donorId}" />                
            </h:column>
            <h:column>
                <f:facet name="header">Donor's Name</f:facet>
                <h:outputText value="#{donor.fullName}" />
            </h:column>
            <h:column>
                <f:facet name="header">BloodGroup</f:facet>
                <h:outputText value="#{donor.bloodGroup}" />
            </h:column>
            <h:column>
                <f:facet name="header">City</f:facet>
                <h:outputText value="#{donor.city}" />
            </h:column>
            <h:column>
                <f:facet name="header">Email</f:facet>
                <h:outputText value="#{donor.email}" />
            </h:column>
            <h:column>
                <f:facet name="header">Phone Number</f:facet>
                <h:outputText value="#{donor.phoneNumber}" /> 
                
            </h:column>
            <h:column>
                <f:facet name="header">Update</f:facet>
                <h:commandButton action="#{Donor.donordetailsbyid()}" value="Update" styleClass="btn btn-primary">
                    <f:param name="selecteddonorID" value="#{donor.donorId}" />
                </h:commandButton>
            </h:column>
            
        </h:dataTable>
    </h:form>
    
        </tr>
    	</tbody></table>
	</section>

	<section class="request" id="request">
		
<div class="title">
			
<h2 class="titleText">List of <span>R</span>equests</h2>
			
<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p>
		</div>
            
                           <h:form>
        <h:dataTable class="list" id="requestsList"  value="#{BloodRequest.RequestsListFromDb()}" var="r" >
            <h:column>
                <f:facet name="header">Request Id</f:facet>
                <h:outputText value="#{r.id_demande}" />                
            </h:column>
            <h:column>
                <f:facet name="header">Patient Name</f:facet>
                <h:outputText value="#{r.utilisateur.name}" />
            </h:column>
            <h:column>
                <f:facet name="header">Email</f:facet>
                <h:outputText value="#{r.utilisateur.email}" />
            </h:column>
            <h:column>
                <f:facet name="header">Phone Number</f:facet>
                <h:outputText value="#{r.utilisateur.num_tel}" />
            </h:column>
            <h:column>
                <f:facet name="header">Blood Group</f:facet>
                <h:outputText value="#{r.group_sanguin}" />
            </h:column>
            <h:column>
                <f:facet name="header">Quantity</f:facet>
                <h:outputText value="#{r.quantite}" />
            </h:column>
           <!--   <h:column>ma
                <f:facet name="header">Date</f:facet>
                <h:outputText value="#{r.date}" />
            </h:column>-->

         
            
        </h:dataTable>
    </h:form>      

            
	</section>
	
<section>
<div class="title">	
	<h2 class="titleText">List of <span>B</span>lood Transfusions</h2>
			
<p>Manage the list of blood transfusions on Bloo<span>d</span>onation.</p>
		</div>


            
<td>
                <h:form id="TransfusionBeanForm" autocomplete="off">
                	
<div class="title">
						
<h2 class="titleText">Add a New Transfusion</h2>
					</div>
                    
                    
<div>
					
                        <h:outputLabel>DonorId<span>*</span></h:outputLabel>
                        <h:inputText type="text" name="donorId" id="donorId" required="" pattern="[A-Za-z/\s]+" value="#{BloodTransfusion.donorId}" />
                    </div>
                    
                    
<div>
                        <h:outputLabel>Quantite</h:outputLabel>
                        <h:inputText type="text" name="quantite" id="quantite" value="#{BloodTransfusion.quantite}"/>
                    </div>
                    
           
 <div>                  
 					<h:outputLabel>Illness</h:outputLabel><br></br>
                    <h:selectOneMenu value="#{BloodTransfusion.id_maladie}">
    <f:selectItems value="#{BloodTransfusion.maladies}"  var="maladie" itemValue="#{maladie.id_maladie}" itemLabel="#{maladie.nom}"/>
</h:selectOneMenu>
  </div>                                
                    
<div class="submit-btn">

					<h:commandButton id="btn" value="Save" action="#{BloodTransfusion.addNewTransfusion(BloodTransfusion)}" style="cursor: pointer;
	position: relative;
	/*transform: translate(-20%,-5%);*/
	width: 200px;
	padding: 5px 10px;
    margin: 8px 0;
	font-size: 1em;
	color: #000;
	background: linear-gradient(to right, #ff0157, #fff);
	display: block;
	text-transform: capitalize;
	text-decoration: none;
	text-align: center;
	letter-spacing: 2px;
	border-radius: 70px;
	border: none;"></h:commandButton>
					</div>
                </h:form>
            </td>
           
         
           
                                <h:form>
        <h:dataTable class="list" id="requestsList"  value="#{BloodTransfusion.TransfusionListFromDb()}" var="trans" >
            <h:column>
                <f:facet name="header">Id</f:facet>
                <h:outputText value="#{trans.id_transfusion}" />                
            </h:column>
            <h:column>
                <f:facet name="header">Date</f:facet>
                <h:outputText value="#{trans.dateTransfusion}" />
            </h:column>
            <h:column>
                <f:facet name="header">Quantite</f:facet>
                <h:outputText value="#{trans.quantite}" />
            </h:column>
            <h:column>
                <f:facet name="header">donor fullName</f:facet>
                <h:outputText value="#{trans.donor.fullName}" />
            </h:column>
            <h:column>
                <f:facet name="header">maladie Name</f:facet>
                <h:outputText value="#{trans.maladie.nom}" />
            </h:column>

         
            
        </h:dataTable>
    </h:form>   
	 </section> 
	
<div class="copyrightText">
		
<p>© Copyright 2021 <a href="#">SESNum,INE2</a>. All rights Reserved</p>
	</div>
	
<script type="text/javascript">
		window.addEventListener('scroll', function(){
			const header = document.querySelector('header');
			header.classList.toggle("sticky", window.scrollY &gt; 0);
		});
		function toggleMenu(){
			const menuToggle = document.querySelector('.menuToggle');
			const navigation = document.querySelector('.navigation');
			menuToggle.classList.toggle('active');
			navigation.classList.toggle('active');
		}
	</script>
</h:body></html>